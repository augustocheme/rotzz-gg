{"ast":null,"code":"import Router from 'next/router';\nexport default (async (req, res) => {\n  const {\n    summoner\n  } = req.query;\n  const response = await fetch(`https://br1.api.riotgames.com/lol/summoner/v4/summoners/by-name/${summoner}?api_key=RGAPI-010fd2a0-a370-44eb-acc2-93947b3a2516`);\n  const {\n    summonerId\n  } = await response.json();\n  const matches = await fetch(`https://br1.api.riotgames.com/lol/match/v4/matchlists/by-account/${summonerId}?api_key=RGAPI-010fd2a0-a370-44eb-acc2-93947b3a2516`);\n  const matchesData = await response.json();\n  Router.push(`/${summoner}`);\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'application/json');\n  return res.json(matchesData);\n});","map":{"version":3,"sources":["/Users/polones/httpd/augusto-cheme/rotzz-gg/src/pages/api/matches.ts"],"names":["Router","req","res","summoner","query","response","fetch","summonerId","json","matches","matchesData","push","statusCode","setHeader"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAeF,GAAG,CAACG,KAAzB;AAEA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,mEAAkEH,QAAS,qDADlD,CAA5B;AAGA,QAAM;AAAEI,IAAAA;AAAF,MAAiB,MAAMF,QAAQ,CAACG,IAAT,EAA7B;AAEA,QAAMC,OAAO,GAAG,MAAMH,KAAK,CACxB,oEAAmEC,UAAW,qDADtD,CAA3B;AAIA,QAAMG,WAAW,GAAG,MAAML,QAAQ,CAACG,IAAT,EAA1B;AAEAR,EAAAA,MAAM,CAACW,IAAP,CAAa,IAAGR,QAAS,EAAzB;AAEAD,EAAAA,GAAG,CAACU,UAAJ,GAAiB,GAAjB;AACAV,EAAAA,GAAG,CAACW,SAAJ,CAAc,cAAd,EAA8B,kBAA9B;AACA,SAAOX,GAAG,CAACM,IAAJ,CAASE,WAAT,CAAP;AACD,CAnBD","sourcesContent":["import Router from 'next/router';\n\nexport default async (req, res) => {\n  const { summoner } = req.query;\n\n  const response = await fetch(\n    `https://br1.api.riotgames.com/lol/summoner/v4/summoners/by-name/${summoner}?api_key=RGAPI-010fd2a0-a370-44eb-acc2-93947b3a2516`\n  );\n  const { summonerId } = await response.json();\n\n  const matches = await fetch(\n    `https://br1.api.riotgames.com/lol/match/v4/matchlists/by-account/${summonerId}?api_key=RGAPI-010fd2a0-a370-44eb-acc2-93947b3a2516`\n  );\n\n  const matchesData = await response.json();\n\n  Router.push(`/${summoner}`);\n\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'application/json');\n  return res.json(matchesData);\n};\n"]},"metadata":{},"sourceType":"module"}